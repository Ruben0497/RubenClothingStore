@model RubenClothingStore.Models.ClothingItem

@{
    ViewData["Title"] = "Clothing Item Details";
}

<h2>@Model.Name</h2>

<div class="mb-4">
    @if (Model.ImageData != null)
    {
        var base64 = Convert.ToBase64String(Model.ImageData);
        var imgSrc = $"data:{Model.ImageMimeType};base64,{base64}";
        <img src="@imgSrc" alt="@Model.Name" style="max-width: 300px;" />
    }
    else
    {
        <p>No image available</p>
    }
</div>

<div class="mb-3"><strong>Price:</strong> $@Model.Price.ToString("F2")</div>
<div class="mb-3"><strong>Size:</strong> @Model.Size</div>
<div class="mb-3"><strong>Description:</strong><br />@Model.Description</div>

<div class="mt-4">
    <form asp-action="AddToCart" method="post" style="display:inline;">
        <input type="hidden" name="id" value="@Model.Id" />
        <button type="submit" class="btn btn-success">Buy</button>
    </form>

    @if (Context.Session.GetString("IsAdmin") == "true")
    {
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a>
        <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Delete</a>
    }

    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</div>
